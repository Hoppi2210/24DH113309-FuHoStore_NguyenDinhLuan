@model IEnumerable<_24DH113309_MyStore.Models.ShippingAddress>
@{
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
    ViewBag.Title = "Sổ địa chỉ";
}

<h3 class="mb-3">📒 Sổ địa chỉ</h3>

<a class="btn btn-primary mb-3" href="@Url.Action("Create")">+ Thêm địa chỉ</a>

@foreach (var a in Model)
{
    <div class="card mb-2 shadow-sm">
        <div class="card-body d-flex justify-content-between align-items-center">

            <div>
                <b>@a.FullName</b> — @a.Phone <br />
                <span>@a.FullAddress</span>

                @if (a.IsDefaultBool)
                {
                    <span class="badge bg-success ms-2">Mặc định</span>
                }
            </div>

            <div class="text-end">
                <a class="btn btn-sm btn-outline-secondary"
                   href="@Url.Action("Edit", new { id = a.AddressID })">
                    ✏ Sửa
                </a>

                @if (!a.IsDefaultBool)
                {
                    using (Html.BeginForm("SetDefault", "AddressBook", FormMethod.Post))
                    {
                        @Html.Hidden("id", a.AddressID)
                        <button class="btn btn-sm btn-outline-primary ms-1">
                            ⭐ Đặt mặc định
                        </button>
                    }
                }
            </div>

        </div>
    </div>
}
